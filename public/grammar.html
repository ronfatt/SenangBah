<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Grammar Lab Â· SenangBah</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body class="grammar-sim-page">
  <main class="shell grammar-sim-shell">
    <section class="card grammar-sim-header">
      <div class="grammar-sim-header-top">
        <div>
          <h1>ðŸ§  Grammar Lab</h1>
          <div class="grammar-sim-badges">
            <span class="grammar-sim-badge">Fix 1 weak line</span>
            <span class="grammar-sim-badge">2â€“6 minutes</span>
            <span class="grammar-sim-badge">SPM aligned</span>
            <span class="grammar-sim-scope">Paper 1 â€“ Use of English â€“ Cloze Text</span>
          </div>
        </div>
        <div class="actions">
          <a class="btn ghost btn-outline-sm" href="/dashboard.html">Dashboard</a>
          <button class="btn ghost btn-outline-sm" id="logoutBtn">Logout</button>
        </div>
      </div>

      <div class="grammar-sim-steps">
        <div class="grammar-sim-step-bar">
          <span class="seg active"></span>
          <span class="seg"></span>
          <span class="seg"></span>
        </div>
        <div class="grammar-sim-step-labels">
          <span>Step 1 Detect</span>
          <span>Step 2 Fix</span>
          <span>Step 3 Upgrade</span>
        </div>
      </div>
      <p class="muted" id="stepInfo">Step 1 Detect Â· Q 1 / 6</p>
      <button class="btn primary" id="startBtn">Start Cloze Set</button>
    </section>

    <section class="card grammar-sim-main" id="taskCard" style="display:none;">
      <div class="grammar-sim-grid">
        <section class="grammar-cloze-panel">
          <div class="row between">
            <h2>Cloze Text Panel</h2>
            <span class="grammar-qindex" id="questionIndex">Q 1 / 6</span>
          </div>
          <p class="grammar-focus-tag" id="focusRuleTag">Focus: Comparative</p>
          <div class="grammar-passage" id="passageText"></div>
        </section>

        <section class="grammar-answer-panel">
          <h2 id="taskTitle">Blank #1 â€” Focus: Comparative (Change 1 word only)</h2>
          <p id="taskInstructions">Rewrite the full sentence (use your chosen word).</p>
          <p class="grammar-tip" id="fixedTip">Tip: â€˜more + adjectiveâ€™ is used for longer adjectives.</p>

          <label class="hint-toggle-wrap grammar-hint-toggle">
            <input type="checkbox" id="showHintToggle" class="hint-toggle" />
            <span>Show hint</span>
          </label>
          <p class="hint" id="hintText"></p>

          <div class="grammar-options" id="taskItems"></div>

          <section class="grammar-rewrite-box">
            <h3>Micro Rewrite</h3>
            <p class="muted">Rewrite the exact sentence containing the blank.</p>
            <textarea id="rewriteInput" rows="4" placeholder="Rewrite the full sentence here..."></textarea>
            <p class="muted" id="constraintText">Constraint: Change 1 word only.</p>
          </section>

          <div class="grammar-feedback-box" id="feedbackBox">
            <h3>Feedback</h3>
            <p class="muted">No feedback yet. Answer and submit to see corrections.</p>
          </div>

          <p class="error" id="grammarError"></p>

          <div class="actions">
            <button class="btn primary" id="submitBtn">Check my fix</button>
            <button class="btn ghost" id="nextBtn" type="button" style="display:none;">Next Question</button>
          </div>
        </section>
      </div>
    </section>

    <section class="card grammar-sim-summary" id="doneCard" style="display:none;">
      <h2>Session Summary</h2>
      <p id="summaryAccuracy">Accuracy: 0%</p>
      <p id="summaryMissed">Most missed: -</p>
      <p id="summaryDrill">Suggested next drill: -</p>
      <p id="summaryStars">Stars: 0</p>
    </section>

    <section class="card grammar-pro-lock">
      <h2>ðŸ”’ Pro Insights Preview</h2>
      <div class="grammar-pro-grid">
        <article class="grammar-pro-item">
          <h3>Error Pattern Tracking (7-day)</h3>
          <p class="muted">Trend view by rule category.</p>
        </article>
        <article class="grammar-pro-item">
          <h3>CEFR Grammar Level Estimate</h3>
          <p class="muted">Estimated grammar control by CEFR band.</p>
        </article>
        <article class="grammar-pro-item">
          <h3>Practice Bank from Mistakes</h3>
          <p class="muted">Auto-generated drills from your error profile.</p>
        </article>
        <article class="grammar-pro-item">
          <h3>Examiner-style Notes</h3>
          <p class="muted">Concise notes on marks-impacting grammar issues.</p>
        </article>
      </div>
      <button class="btn ghost">Unlock Pro</button>
    </section>
  </main>

  <script src="/grammar.js"></script>
</body>
</html>
