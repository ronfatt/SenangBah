<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Grammar Lab Â· SenangBah</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body class="grammar-page">
  <main class="shell">
    <section class="card grammar-header-card">
      <div class="grammar-header-top">
        <div>
          <h1>ğŸ§  Grammar Lab</h1>
          <div class="grammar-badges">
            <span class="grammar-badge">Fix 1 weak line</span>
            <span class="grammar-badge">2â€“6 minutes</span>
            <span class="grammar-badge">SPM aligned</span>
          </div>
          <p class="grammar-scope-tag">SPM Scope Alignment Â· Paper 1 â€“ Use of English â€“ Cloze Text</p>
        </div>
        <div class="actions">
          <a class="btn ghost btn-outline-sm" href="/dashboard.html">Dashboard</a>
          <button class="btn ghost btn-outline-sm" id="logoutBtn">Logout</button>
        </div>
      </div>

      <div class="grammar-steps-wrap">
        <div class="grammar-steps-bar">
          <span class="grammar-step-seg active"></span>
          <span class="grammar-step-seg"></span>
          <span class="grammar-step-seg"></span>
        </div>
        <div class="grammar-step-labels">
          <span>Step 1 Detect</span>
          <span>Step 2 Fix</span>
          <span>Step 3 Upgrade</span>
        </div>
      </div>

      <p class="muted" id="stepInfo">Step 1 of 3</p>
      <button class="btn primary grammar-start-btn" id="startBtn">Start</button>
    </section>

    <section class="card" id="taskCard" style="display:none;">
      <section class="grammar-detect-card">
        <h2 id="taskTitle"></h2>
        <p id="taskInstructions"></p>
        <label class="hint-toggle-wrap">
          <input type="checkbox" id="grammarHintToggle" class="hint-toggle" />
          <span>Show hint</span>
        </label>
        <div id="taskItems"></div>
      </section>

      <section class="grammar-fix-card">
        <h3>Step 2 Â· Fix</h3>
        <div id="inputArea"></div>
        <div class="grammar-ai-feedback">
          <p><strong>Grammar:</strong> Keep subject-verb agreement consistent.</p>
          <p><strong>Clarity:</strong> Use one direct sentence with clear meaning.</p>
          <p><strong>Upgrade Version:</strong> Replace weak verbs with stronger precise verbs.</p>
        </div>
      </section>

      <section id="grammarExplainPanel" class="grammar-explain-panel">
        <h3>Explanation</h3>
        <p><strong>Correct Answer:</strong> The stronger option keeps meaning precise and grammatically accurate.</p>
        <p><strong>Why:</strong> It avoids sentence fragments and improves flow.</p>
        <p><strong>SPM Tip:</strong> In cloze text, check grammar fit before checking meaning nuance.</p>
      </section>

      <section class="grammar-upgrade-card">
        <h3>Step 3 Â· Upgrade</h3>
        <div class="grammar-advanced-lock">
          <p><strong>ğŸ”’ Advanced Grammar Insights</strong></p>
          <ul>
            <li>Error Pattern Tracking</li>
            <li>CEFR Grammar Level</li>
            <li>Common Mistake Type</li>
            <li>Suggested Practice Bank</li>
          </ul>
        </div>
      </section>

      <button class="btn primary" id="submitBtn">ğŸ‘‰ Check my fix</button>
      <p class="muted" id="progressInfo"></p>
    </section>

    <section class="card" id="doneCard" style="display:none;">
      <h2>Done for today.</h2>
      <p>â­ Grammar Power +1</p>
      <p>ğŸ”“ Come back tomorrow.</p>
    </section>
  </main>

  <script src="/grammar.js"></script>
</body>
</html>
